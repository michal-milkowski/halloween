 Program
   Init Variables
   BeforeStart
     Script: conversions.script
     Script: robotics.script
     MoveJ
       Waypoint_1
   Robot Program
     If point_dist(lookat_p, p[0, 0, 0, 0, 0, 0]) < 0.1
       sync()
       continue
     'rotate world coordinates around robot base to comensate mounting differences'
     lookatrotated≔rotate_base(lookat_p, base_rotation)
     'project pose from offset base point to target world position'
     origin2lookat≔get_feature_plane(base2origin, lookatrotated, p[0, 0, -5, 0, 0, 0])
     'move pose away to sphere around origin'
     eye_pose_sphere≔pose_trans(origin2lookat, p[0.6, 0, 0, 0, 0, 0])
     'rotate axes from world to tool coordinates'
     eye_pose≔pose_trans(eye_pose_sphere, p[0, 0, 0, 0, 1.52, 0])
     'unwind joints is they get too close to the joint limit'
     var_1≔is_close_to_limit()
     If is_close_to_limit()
       MoveJ
         home_position
         look_at_door
       continue
     'if distance is small then servo move, otherwise movej to limit accelerations'
     If point_dist(Tool_const, eye_pose) > 0.02
       MoveJ
         eye_pose
     Else
       servoj(get_inverse_kin(eye_pose))
     'MoveJ'
   Thread_1
     lookat_p≔p[1*sin(phase), 1*cos(phase), 3, 0, 0, 0]
     phase≔(phase + 1/1000) % (2 * 3.14)
     Wait: 0
     sync()
